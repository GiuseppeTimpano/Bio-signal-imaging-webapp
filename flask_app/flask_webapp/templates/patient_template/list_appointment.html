{% extends "patient_template/layout_patient.html" %}

{% block visualizer %}
  
  <div class="container">
    <h2>Patient's details</h2>
      <form action="{{url_for('change_patient_details', patient_id=session.get('ID'))}}" method="POST">
        <div class="form-group">
          <label><strong>ID Patient:</strong></label>
          <p class="form-control-static">{{ patient.id_patient }}</p>
        </div>
        <div class="form-group">
          <label><strong>Name:</strong></label>
          <p class="form-control-static">{{ patient.first_name }}</p>
        </div>
        <div class="form-group">
          <label><strong>Surname:</strong></label>
          <p class="form-control-static">{{ patient.surname }}</p>
        </div>
        <div class="form-group">
          <label><strong>Birth date:</strong></label>
          <p class="form-control-static">{{ patient.birth_date }}</p>
        </div>
        <div class="form-group">
          <label><strong>Fiscal Code</strong></label>
          <p class="form-control-static">{{ patient.CF }}</p>
        </div>
        <div class="form-group">
          <label><strong>Email:</strong></label>
          <input type="email" class="form-control" name="email" value="{{ patient.email }}">
        </div>
        <div class="form-group">
          <label><strong>Phone number:</strong></label>
          <input type="tel" class="form-control" name="phone_number" value="{% if patient.phone_number!=None %}{{ patient.phone_number }}{% endif %}">
        </div>
        <div class="form-group">
          <label><strong>Address:</strong></label>
          <input type="text" class="form-control" name="address" value="{% if patient.address!=None %}{{ patient.address }}{% endif %}">
        </div>
        <div class="form-group">
          <label><strong>Residence city:</strong></label>
          <input type="text" class="form-control" name="city" value="{{ patient.city }}">
        </div>
        <input type="submit" class="btn btn-primary" value="Save" style="margin-top: 10px;">
      </form>
  </div>
  
  <div class="container">
    <h2>Appointment</h2>
    <div>
      <ul>
        {% for appointment in patient.appointments %}
          <li>{{ appointment.date }} - {{ appointment.reason }} with doctor: {{ appointment.doctor.name }} {{ appointment.doctor.surname }}</li>
        {% endfor %}
      </ul>
    </div>
  </div>

{% endblock %}
